(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(10),o=n.n(c),s=(n(15),n(16),n(7)),a=n(4),i=n.n(a),r=n(5),d=n(9),u=n(2),l=n(1),j=n(0),b=function(e){var t=e.createTodo,n=Object(l.useState)(""),c=Object(u.a)(n,2),o=c[0],s=c[1],a=Object(l.useRef)();return Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault(),a.current.value="",""!==o.trim()&&(t(o),s(""))},children:Object(j.jsxs)("div",{className:"field has-addons",children:[Object(j.jsx)("div",{className:"control is-expanded",children:Object(j.jsx)("input",{className:"input",type:"text",name:"",id:"",onChange:function(e){return s(e.target.value)},ref:a})}),Object(j.jsx)("div",{className:"control",children:Object(j.jsx)("button",{className:"button is-info",children:"+Add"})})]})})},f=function(e){var t=e.todo,n=e.index,c=e.deleteTodo,o=e.updateTodos;return Object(j.jsxs)("li",{className:t.status?"notification mb-1 is-success":"notification mb-1 is-light",id:t.id,onDoubleClick:function(e){o(n)},style:{userSelect:"none"},children:[Object(j.jsx)("div",{className:"delete","data-id":n,onClick:function(e){c(n)}}),t.todo]},t.id)},p=function(e){var t=e.todos,n=e.deleteTodo,c=e.updateTodos;return Object(j.jsx)("ul",{className:"mt-5",children:t.map((function(e,t){return Object(j.jsx)(f,{todo:e,index:t,deleteTodo:n,updateTodos:c},e.id)}))})},O=function(){return Object(j.jsx)("div",{className:"load",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"spinner"}),Object(j.jsx)("p",{children:"Syncing..."})]})})},h=function(){var e=Object(l.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(l.useState)(!0),a=Object(u.a)(o,2),f=a[0],h=a[1],m=Object(l.useState)({type:null,todo:{}}),x=Object(u.a)(m,2),v=x[0],y=x[1];return Object(l.useEffect)((function(){(function(){var e=Object(d.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://todos-9a65.restdb.io/rest/todos",{method:"GET",headers:{"x-apikey":"60f158b149cd3a5cfbd2291f","Cache-Control":"no-cache","content-type":"application/json"},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){return c(Object(r.a)(e).reverse())})).catch((function(e){return console.log(e.message)}));case 2:h(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(l.useEffect)((function(){var e={new:"POST",update:"PUT",delete:"DELETE"},t="https://todos-9a65.restdb.io/rest/todos".concat("POST"!==v.type?"/"+v.todo._id:""),n=function(){var n=Object(d.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h(!0),n.next=3,fetch(t,{method:e[v.type],headers:{"x-apikey":"60f158b149cd3a5cfbd2291f","cache-control":"no-cache","content-type":"application/json"},body:JSON.stringify(v.todo),credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 3:h(!1);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();v.type&&n(),y({type:null,todo:{}})}),[n]),Object(j.jsxs)("div",{className:"section mt-5 pt-0",children:[f&&Object(j.jsx)(O,{}),Object(j.jsx)(b,{createTodo:function(e){var t={id:(new Date).getTime(),todo:e,status:!1};y({type:"new",todo:Object(s.a)({},t)}),c([t].concat(Object(r.a)(n)))}}),Object(j.jsx)(p,{todos:n,deleteTodo:function(e){var t=n.filter((function(t,n){return n!==e})),o=n.filter((function(t,n){return n===e}));y({type:"delete",todo:Object(s.a)({},o[0])}),c(Object(r.a)(t))},updateTodos:function(e){var t=n[e];t.status=!t.status,y({type:"update",todo:Object(s.a)({},t)}),c(Object(r.a)(n),t)}})]})};function m(){return Object(j.jsx)("div",{className:"columns is-centered",children:Object(j.jsxs)("div",{className:"column is-6-desktop is-8-tablet",children:[Object(j.jsxs)("div",{className:"section mb-0 pb-0",children:[Object(j.jsx)("h1",{className:"title",children:"React ToDo"}),Object(j.jsx)("p",{className:"subtitle",children:"The power of procastinate!"})]}),Object(j.jsx)(h,{})]})})}o.a.render(Object(j.jsx)(m,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.8847b635.chunk.js.map